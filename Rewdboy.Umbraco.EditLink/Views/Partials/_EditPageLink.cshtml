@using Umbraco.Cms.Core.Models.PublishedContent
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor

@model IPublishedContent

@{
    var isLoggedIntoBackoffice = HttpContextAccessor.HttpContext?.Request.Cookies
        .Any(x => x.Key.StartsWith("UMB_UCONTEXT")) ?? false;
}

@if (isLoggedIntoBackoffice)
{
    <style>
        .edit-page-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
            background-color: #3544b1; /* Umbraco Lila */
            color: white !important;
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            transition: all 0.2s ease-in-out;
            border: 2px solid rgba(255,255,255,0.2);
        }

            .edit-page-btn:hover {
                transform: scale(1.1);
                background-color: #2e3d75;
                box-shadow: 0 6px 16px rgba(0,0,0,0.4);
            }

            .edit-page-btn svg {
                width: 20px;
                height: 20px;
                fill: currentColor;
            }
    </style>

    <a href="/umbraco/section/content/workspace/document/edit/@Model.Key"
       target="_blank"
       rel="noopener noreferrer"
       class="edit-page-btn"
       title="Redigera sida">
        @* SVG Penna/Edit ikon *@
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
            <path d="M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z" />
        </svg>
    </a>
}